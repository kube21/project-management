{"ast":null,"code":"/* eslint-disable consistent-return */\nimport axios from 'axios';\nimport { setAuthToken } from '../../services/auth'; // axios.defaults.headers.common['Authorization'] = 'Bearer ' + localStorage.getItem('token');\n\nexport default function axiosCall(method, url, responseType, data) {\n  return async dispatch => {\n    await setAuthToken();\n    const apiData = data ? {\n      method,\n      url,\n      data\n    } : {\n      method,\n      url\n    };\n    axios(apiData).then(response => {\n      if (response.data) {\n        dispatch({\n          type: responseType,\n          updatePayload: response.data\n        });\n        return response.data;\n      }\n    }).catch(err => {\n      dispatch({\n        type: `${responseType}_REJECTED`,\n        updatePayload: err.response\n      });\n      return err.response;\n    });\n  };\n}","map":{"version":3,"sources":["/home/mithun/Documents/project-tracking/client/src/redux/actions/index.js"],"names":["axios","setAuthToken","axiosCall","method","url","responseType","data","dispatch","apiData","then","response","type","updatePayload","catch","err"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,qBAA7B,C,CAEA;;AACA,eAAe,SAASC,SAAT,CAAmBC,MAAnB,EAA2BC,GAA3B,EAAgCC,YAAhC,EAA8CC,IAA9C,EAAoD;AACjE,SAAO,MAAMC,QAAN,IAAkB;AACvB,UAAMN,YAAY,EAAlB;AACA,UAAMO,OAAO,GAAGF,IAAI,GAAG;AAAEH,MAAAA,MAAF;AAAUC,MAAAA,GAAV;AAAeE,MAAAA;AAAf,KAAH,GAA2B;AAAEH,MAAAA,MAAF;AAAUC,MAAAA;AAAV,KAA/C;AACAJ,IAAAA,KAAK,CAACQ,OAAD,CAAL,CACGC,IADH,CACQC,QAAQ,IAAI;AAChB,UAAIA,QAAQ,CAACJ,IAAb,EAAmB;AACjBC,QAAAA,QAAQ,CAAC;AAAEI,UAAAA,IAAI,EAAEN,YAAR;AAAsBO,UAAAA,aAAa,EAAEF,QAAQ,CAACJ;AAA9C,SAAD,CAAR;AACA,eAAOI,QAAQ,CAACJ,IAAhB;AACD;AACF,KANH,EAOGO,KAPH,CAOSC,GAAG,IAAI;AACZP,MAAAA,QAAQ,CAAC;AACPI,QAAAA,IAAI,EAAG,GAAEN,YAAa,WADf;AAEPO,QAAAA,aAAa,EAAEE,GAAG,CAACJ;AAFZ,OAAD,CAAR;AAIA,aAAOI,GAAG,CAACJ,QAAX;AACD,KAbH;AAcD,GAjBD;AAkBD","sourcesContent":["/* eslint-disable consistent-return */\nimport axios from 'axios';\nimport { setAuthToken } from '../../services/auth';\n\n// axios.defaults.headers.common['Authorization'] = 'Bearer ' + localStorage.getItem('token');\nexport default function axiosCall(method, url, responseType, data) {\n  return async dispatch => {\n    await setAuthToken();\n    const apiData = data ? { method, url, data } : { method, url };\n    axios(apiData)\n      .then(response => {\n        if (response.data) {\n          dispatch({ type: responseType, updatePayload: response.data });\n          return response.data;\n        }\n      })\n      .catch(err => {\n        dispatch({\n          type: `${responseType}_REJECTED`,\n          updatePayload: err.response\n        });\n        return err.response;\n      });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}