{"ast":null,"code":"var _jsxFileName = \"/home/mithun/Documents/project-tracking/client/src/components/projects/FindProject.js\";\n\n/* eslint-disable max-len */\n\n/* eslint-disable react/jsx-indent */\nimport React, { Component } from 'react';\nimport { BackTop, Layout, Form, Row, Col, Input, Collapse, Button, Table, Drawer, Icon, Popconfirm, message } from 'antd';\nimport moment from 'moment';\nimport dictionary from '../../config/static/Dictionary';\nimport HeaderMain from '../../containers/header/header-container';\nimport Sidebar from '../../containers/sidebar/sidebar-container';\nimport Footer from '../common/footer';\nimport NewProject from '../../containers/projects/new-project';\nimport './styles.scss';\nimport { compareObjects } from '../../utils/utils';\nconst {\n  Header,\n  Content\n} = Layout;\nconst {\n  Panel\n} = Collapse;\n\nclass Find extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getProjects = () => {\n      const {\n        getAllProjects\n      } = this.props;\n      getAllProjects();\n    };\n\n    this.editProject = currentProject => {\n      this.setState({\n        currentProject,\n        visibleEdit: true,\n        visibleCreate: false\n      });\n    };\n\n    this.deleteProject = id => {\n      const {\n        deleteProject\n      } = this.props;\n      deleteProject(id);\n      this.setState({\n        loading: true,\n        lastDeletedId: true\n      });\n    };\n\n    this.handleChange = event => {\n      const {\n        value\n      } = event.target;\n      const {\n        items\n      } = this.state;\n      const resultJson = items.filter(item => {\n        item.completed = item.projectCompleted === true ? 'Completed' : '';\n        item.incomplete = item.projectCompleted === false ? 'Incomplete' : '';\n        return item.startDate.toLowerCase().search(value.toLowerCase()) !== -1 || item.endDate.toLowerCase().search(value.toLowerCase()) !== -1 || item.projectName.toLowerCase().search(value.toLowerCase()) !== -1 || item.technology.toLowerCase().search(value.toLowerCase()) !== -1 || item.incomplete.toLowerCase().search(value.toLowerCase()) === 0 || item.completed.toLowerCase().search(value.toLowerCase()) === 0;\n      });\n      this.setState({\n        resultJson,\n        searchValue: value\n      });\n    };\n\n    this.onCreate = () => {\n      this.setState({\n        visibleCreate: false\n      });\n    };\n\n    this.onEdit = () => {\n      this.setState({\n        visibleEdit: false\n      });\n    };\n\n    this.state = {\n      resultJson: [],\n      loading: true,\n      visibleCreate: false,\n      visibleEdit: false,\n      items: [],\n      lastDeletedId: false,\n      searchValue: ''\n    };\n  }\n\n  componentDidMount() {\n    this.getProjects();\n  }\n\n  UNSAFE_componentWillReceiveProps(nextprops) {\n    const {\n      projectResponse,\n      projectDeleteResponse\n    } = nextprops;\n    const {\n      items,\n      lastDeletedId\n    } = this.state;\n\n    if (projectResponse && projectResponse.data) {\n      if (compareObjects(items, projectResponse.data)) {\n        this.setState({\n          resultJson: projectResponse.data,\n          items: projectResponse.data,\n          loading: false\n        });\n      }\n    }\n\n    if (projectDeleteResponse && projectDeleteResponse.success && lastDeletedId) {\n      this.setState({\n        lastDeletedId: false\n      });\n      this.getProjects();\n      setTimeout(() => {\n        message.success('Project successfully deleted');\n      }, 2000);\n    }\n  }\n\n  renderProjects() {\n    const {\n      loading,\n      resultJson,\n      visibleCreate,\n      visibleEdit,\n      currentProject,\n      searchValue\n    } = this.state;\n    const tableColums = [{\n      title: 'Project Name',\n      dataIndex: 'projectName',\n      key: 'projectName',\n      render: (text, record) => {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          href: \"#\",\n          onClick: () => this.editProject(record),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }\n        }, record.projectName);\n      }\n    }, {\n      title: 'Technology',\n      dataIndex: 'technology',\n      key: 'technology',\n      render: (text, record) => record.technology || '-'\n    }, {\n      title: 'Start Date',\n      dataIndex: 'startDate',\n      key: 'startDate',\n      render: (text, record) => moment(record.startDate).format('YYYY-MM-DD') || '-'\n    }, {\n      title: 'End Date',\n      dataIndex: 'endDate',\n      key: 'endDate',\n      render: (text, record) => moment(record.endDate).format('YYYY-MM-DD') || '-'\n    }, {\n      title: 'Project Status',\n      dataIndex: 'projectCompleted',\n      key: 'projectCompleted',\n      render: (text, record) => record.projectCompleted ? 'Completed' : 'Incomplete' || '-'\n    }, {\n      title: 'Delete',\n      dataIndex: 'mode',\n      key: 'mode',\n      render: (text, record) => {\n        return /*#__PURE__*/React.createElement(Popconfirm, {\n          title: \"Do you want to delete this project?\",\n          onConfirm: () => this.deleteProject(record._id),\n          okText: \"Delete\",\n          cancelText: \"Cancel\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Icon, {\n          className: \"delete-icon\",\n          type: \"delete\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }\n        }));\n      }\n    }];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      name: \"documentList\",\n      layout: \"vertical\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      gutter: 16,\n      className: \"row\",\n      style: {\n        marginBottom: '10px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 5,\n      offset: 19,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      icon: \"plus\",\n      onClick: () => this.setState({\n        visibleCreate: true,\n        visibleEdit: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }\n    }, dictionary.CREATE_PROJECT))), /*#__PURE__*/React.createElement(Collapse, {\n      defaultActiveKey: ['1'],\n      accordion: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Panel, {\n      header: dictionary.ENTER_SEARCH_CRITERIA_HEADER,\n      key: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      gutter: 16,\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: 12,\n      md: 12,\n      lg: 12,\n      xl: 12,\n      xxl: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      label: dictionary.SEARCH,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      placeholder: dictionary.SEARCH_PROJECT,\n      onChange: this.handleChange,\n      name: \"id\",\n      value: searchValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 23\n      }\n    })))))), /*#__PURE__*/React.createElement(Row, {\n      gutter: 16,\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      loading: loading,\n      rowKey: record => record.id,\n      showHeader: true,\n      columns: tableColums,\n      dataSource: resultJson,\n      scroll: {\n        x: true\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }\n    }))))), /*#__PURE__*/React.createElement(Drawer, {\n      style: {\n        marginTop: '50px'\n      },\n      width: 760,\n      placement: \"right\",\n      closable: true,\n      destroyOnClose: true,\n      onClose: () => this.setState({\n        visibleCreate: false\n      }),\n      visible: visibleCreate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NewProject, Object.assign({}, this.props, {\n      closeProject: this.onCreate,\n      isOpen: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }\n    }))), /*#__PURE__*/React.createElement(Drawer, {\n      style: {\n        marginTop: '50px'\n      },\n      width: 760,\n      placement: \"right\",\n      closable: true,\n      destroyOnClose: true,\n      onClose: () => this.setState({\n        visibleEdit: false\n      }),\n      visible: visibleEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NewProject, Object.assign({}, this.props, {\n      closeProject: this.onEdit,\n      isOpen: true,\n      currentProject: currentProject,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }\n    }))));\n  }\n\n  renderInFullScreen() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(HeaderMain, {\n      isCompany: true,\n      loggedIn: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Layout, {\n      className: \"layoutStyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, Object.assign({}, this.props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      className: \"headerStyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 13\n      }\n    }, dictionary.PROJECTS), /*#__PURE__*/React.createElement(Content, {\n      className: \"contentStyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contentInnerDivStyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 15\n      }\n    }, this.renderProjects())), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(BackTop, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ant-back-top-inner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 11\n      }\n    }, dictionary.UP_LABEL)));\n  }\n\n  render() {\n    const {\n      isOpen\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, isOpen ? this.renderProjects() : this.renderInFullScreen());\n  }\n\n}\n\nexport default Form.create()(Find);","map":{"version":3,"sources":["/home/mithun/Documents/project-tracking/client/src/components/projects/FindProject.js"],"names":["React","Component","BackTop","Layout","Form","Row","Col","Input","Collapse","Button","Table","Drawer","Icon","Popconfirm","message","moment","dictionary","HeaderMain","Sidebar","Footer","NewProject","compareObjects","Header","Content","Panel","Find","constructor","props","getProjects","getAllProjects","editProject","currentProject","setState","visibleEdit","visibleCreate","deleteProject","id","loading","lastDeletedId","handleChange","event","value","target","items","state","resultJson","filter","item","completed","projectCompleted","incomplete","startDate","toLowerCase","search","endDate","projectName","technology","searchValue","onCreate","onEdit","componentDidMount","UNSAFE_componentWillReceiveProps","nextprops","projectResponse","projectDeleteResponse","data","success","setTimeout","renderProjects","tableColums","title","dataIndex","key","render","text","record","format","_id","marginBottom","CREATE_PROJECT","ENTER_SEARCH_CRITERIA_HEADER","SEARCH","SEARCH_PROJECT","x","marginTop","renderInFullScreen","PROJECTS","UP_LABEL","isOpen","create"],"mappings":"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","sourcesContent":["/* eslint-disable max-len */\n/* eslint-disable react/jsx-indent */\nimport React, { Component } from 'react';\nimport {\n  BackTop,\n  Layout,\n  Form,\n  Row,\n  Col,\n  Input,\n  Collapse,\n  Button,\n  Table,\n  Drawer,\n  Icon,\n  Popconfirm,\n  message\n} from 'antd';\nimport moment from 'moment';\nimport dictionary from '../../config/static/Dictionary';\nimport HeaderMain from '../../containers/header/header-container';\nimport Sidebar from '../../containers/sidebar/sidebar-container';\nimport Footer from '../common/footer';\nimport NewProject from '../../containers/projects/new-project';\nimport './styles.scss';\nimport { compareObjects } from '../../utils/utils';\n\nconst { Header, Content } = Layout;\nconst { Panel } = Collapse;\n\nclass Find extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      resultJson: [],\n      loading: true,\n      visibleCreate: false,\n      visibleEdit: false,\n      items: [],\n      lastDeletedId: false,\n      searchValue: ''\n\n    };\n  }\n\n  componentDidMount() {\n    this.getProjects();\n  }\n\n  UNSAFE_componentWillReceiveProps(nextprops) {\n    const { projectResponse, projectDeleteResponse } = nextprops;\n    const { items, lastDeletedId } = this.state;\n    if (projectResponse && projectResponse.data) {\n      if (compareObjects(items, projectResponse.data)) {\n        this.setState({\n          resultJson: projectResponse.data,\n          items: projectResponse.data,\n          loading: false\n        });\n      }\n    }\n    if (projectDeleteResponse && projectDeleteResponse.success && lastDeletedId) {\n      this.setState({ lastDeletedId: false });\n      this.getProjects();\n      setTimeout(() => {\n        message.success('Project successfully deleted');\n      }, 2000);\n    }\n  }\n\n  getProjects = () => {\n    const { getAllProjects } = this.props;\n    getAllProjects();\n  };\n\n  editProject = currentProject => {\n    this.setState({\n      currentProject,\n      visibleEdit: true,\n      visibleCreate: false\n    });\n  };\n\n  deleteProject = id => {\n    const { deleteProject } = this.props;\n    deleteProject(id);\n    this.setState({ loading: true, lastDeletedId: true });\n  };\n\n  handleChange = event => {\n    const { value } = event.target;\n    const { items } = this.state;\n\n    const resultJson = items.filter(item => {\n      item.completed = item.projectCompleted === true ? 'Completed' : '';\n      item.incomplete = item.projectCompleted === false ? 'Incomplete' : '';\n      return (\n        item.startDate.toLowerCase().search(value.toLowerCase()) !== -1\n        || item.endDate.toLowerCase().search(value.toLowerCase()) !== -1\n        || item.projectName.toLowerCase().search(value.toLowerCase()) !== -1\n        || item.technology.toLowerCase().search(value.toLowerCase()) !== -1\n        || item.incomplete.toLowerCase().search(value.toLowerCase()) === 0\n        || item.completed.toLowerCase().search(value.toLowerCase()) === 0\n      );\n    });\n    this.setState({ resultJson, searchValue: value });\n  };\n\n  onCreate = () => {\n    this.setState({ visibleCreate: false });\n  };\n\n  onEdit = () => {\n    this.setState({ visibleEdit: false });\n  };\n\n  renderProjects() {\n    const { loading, resultJson, visibleCreate, visibleEdit, currentProject, searchValue } = this.state;\n    const tableColums = [\n      {\n        title: 'Project Name',\n        dataIndex: 'projectName',\n        key: 'projectName',\n        render: (text, record) => {\n          return (\n            <a href=\"#\" onClick={() => this.editProject(record)}>\n              {record.projectName}\n            </a>\n          );\n        }\n      },\n      {\n        title: 'Technology',\n        dataIndex: 'technology',\n        key: 'technology',\n        render: (text, record) => record.technology || '-'\n      },\n      {\n        title: 'Start Date',\n        dataIndex: 'startDate',\n        key: 'startDate',\n        render: (text, record) => moment(record.startDate).format('YYYY-MM-DD') || '-'\n      },\n      {\n        title: 'End Date',\n        dataIndex: 'endDate',\n        key: 'endDate',\n        render: (text, record) => moment(record.endDate).format('YYYY-MM-DD') || '-'\n      },\n      {\n        title: 'Project Status',\n        dataIndex: 'projectCompleted',\n        key: 'projectCompleted',\n        render: (text, record) => (record.projectCompleted ? 'Completed' : 'Incomplete' || '-')\n      },\n      {\n        title: 'Delete',\n        dataIndex: 'mode',\n        key: 'mode',\n        render: (text, record) => {\n          return (\n            <Popconfirm\n              title=\"Do you want to delete this project?\"\n              onConfirm={() => this.deleteProject(record._id)}\n              okText=\"Delete\"\n              cancelText=\"Cancel\"\n            >\n              <Icon className=\"delete-icon\" type=\"delete\" />\n            </Popconfirm>\n          );\n        }\n      }\n    ];\n\n    return (\n      <div>\n        <Form name=\"documentList\" layout=\"vertical\">\n          {/* {loading ? (\n            <span>\n              <Spinner />\n            </span>\n          ) : ( */}\n          <div>\n            <Row gutter={16} className=\"row\" style={{ marginBottom: '10px' }}>\n              <Col span={5} offset={19}>\n                <Button\n                  type=\"primary\"\n                  icon=\"plus\"\n                  onClick={() => this.setState({ visibleCreate: true, visibleEdit: false })}\n                >\n                  {dictionary.CREATE_PROJECT}\n                </Button>\n              </Col>\n            </Row>\n            <Collapse defaultActiveKey={['1']} accordion>\n              <Panel header={dictionary.ENTER_SEARCH_CRITERIA_HEADER} key=\"1\">\n                <Row gutter={16} className=\"row\">\n                  <Col sm={12} md={12} lg={12} xl={12} xxl={12}>\n                    <Form.Item label={dictionary.SEARCH}>\n                      <Input\n                        placeholder={dictionary.SEARCH_PROJECT}\n                        onChange={this.handleChange}\n                        name=\"id\"\n                        value={searchValue}\n                      />\n                    </Form.Item>\n                  </Col>\n                </Row>\n              </Panel>\n            </Collapse>\n            <Row gutter={16} className=\"row\">\n              <Col span={24}>\n                <Table\n                  loading={loading}\n                  rowKey={record => record.id}\n                  showHeader\n                  columns={tableColums}\n                  dataSource={resultJson}\n                  scroll={{ x: true }}\n                />\n              </Col>\n            </Row>\n          </div>\n          {/* )} */}\n        </Form>\n\n        <Drawer\n          style={{ marginTop: '50px' }}\n          width={760}\n          placement=\"right\"\n          closable\n          destroyOnClose\n          onClose={() => this.setState({ visibleCreate: false })}\n          visible={visibleCreate}\n        >\n          <NewProject {...this.props} closeProject={this.onCreate} isOpen />\n        </Drawer>\n        <Drawer\n          style={{ marginTop: '50px' }}\n          width={760}\n          placement=\"right\"\n          closable\n          destroyOnClose\n          onClose={() => this.setState({ visibleEdit: false })}\n          visible={visibleEdit}\n        >\n          <NewProject\n            {...this.props}\n            closeProject={this.onEdit}\n            isOpen\n            currentProject={currentProject}\n          />\n        </Drawer>\n      </div>\n    );\n  }\n\n  renderInFullScreen() {\n    return (\n      <>\n        <HeaderMain isCompany loggedIn />\n        <Layout className=\"layoutStyle\">\n          <Sidebar {...this.props} />\n          <Layout>\n            <Header className=\"headerStyle\">{dictionary.PROJECTS}</Header>\n            <Content className=\"contentStyle\">\n              <div className=\"contentInnerDivStyle\">{this.renderProjects()}</div>\n            </Content>\n            <Footer />\n          </Layout>\n        </Layout>\n        <BackTop>\n          <div className=\"ant-back-top-inner\">{dictionary.UP_LABEL}</div>\n        </BackTop>\n      </>\n    );\n  }\n\n  render() {\n    const { isOpen } = this.props;\n    return <>{isOpen ? this.renderProjects() : this.renderInFullScreen()}</>;\n  }\n}\nexport default Form.create()(Find);\n"]},"metadata":{},"sourceType":"module"}